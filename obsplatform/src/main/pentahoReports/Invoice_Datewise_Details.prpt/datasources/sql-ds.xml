<data:sql-datasource xmlns:data="http://jfreereport.sourceforge.net/namespaces/datasources/sql">
  <data:config/>
  <data:connection>
    <data:driver>org.gjt.mm.mysql.Driver</data:driver>
    <data:url>jdbc:mysql://192.168.1.200:3306/obs_beenius</data:url>
    <data:properties>
      <data:property name="user">root</data:property>
      <data:property name="password">encrypted:430f56404304160d</data:property>
      <data:property name="::pentaho-reporting::port">3306</data:property>
      <data:property name="::pentaho-reporting::name">hugo_pentho</data:property>
      <data:property name="::pentaho-reporting::database-name">obs_beenius</data:property>
      <data:property name="::pentaho-reporting::hostname">192.168.1.200</data:property>
      <data:property name="::pentaho-reporting::database-type">MYSQL</data:property>
    </data:properties>
  </data:connection>
  <data:query-definitions>
    <data:query name="officeparameter">
      <data:static-query>SELECT distinct name from m_office;</data:static-query>
    </data:query>
    <data:query name="Invoice_Date_wise_detail">
      <data:static-query>select 
 inv.id as Invoice_No,
 Date_Format(inv.invoice_date,'%d/%m/%Y') as Invoice_Date,
 off.id as office_id ,
 off.name as  Office_Name,
 inv.client_id as client_id,
 clnt.display_name as Client_Name,
 chrg.charge_type as chargetype,
 Date_Format(chrg.charge_start_date,'%d/%m/%Y') as Charge_start_date,
 Date_Format(chrg.charge_end_date,'%d/%m/%Y') as Charge_end_date,
 cast(round(sum(chrg.charge_amount),2)as char) as Charge_Amount,
 cast(round(chrg.discount_amount,2) as char)  as Discount,
 cast(round(sum(ifnull(chrgtax.Tax_amount,0)),2) as char) as TaxAmount,
 cast(round(((chrg.charge_amount) + sum(ifnull(chrgtax.Tax_amount,0)) -chrg.discount_amount),2)as char) as Invoice_Amount

 from 
 b_invoice inv   join 
 m_client clnt
     on inv.client_id=clnt.id   
                    join
 b_charge chrg 
                    on inv.client_id=chrg.client_id
                    and inv.id=chrg.invoice_id
                    left outer join
    b_charge_tax chrgtax
                    on   chrg.invoice_id=chrgtax.invoice_id
                    and chrg.id=chrgtax.charge_id
                    left outer join
    m_office    off
    on clnt.office_id=off.id
    where off.name=${Office} and inv.invoice_date between ${FromDate} and  ${EndDate}
                    group by inv.id ;</data:static-query>
    </data:query>
  </data:query-definitions>
</data:sql-datasource>
